"use strict";(self.webpackChunkink_docs=self.webpackChunkink_docs||[]).push([[7314],{3905:function(t,e,n){n.d(e,{Zo:function(){return p},kt:function(){return m}});var a=n(7294);function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e){if(null==t)return{};var n,a,o=function(t,e){if(null==t)return{};var n,a,o={},r=Object.keys(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var l=a.createContext({}),s=function(t){var e=a.useContext(l),n=e;return t&&(n="function"==typeof t?t(e):i(i({},e),t)),n},p=function(t){var e=s(t.components);return a.createElement(l.Provider,{value:e},t.children)},u={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},d=a.forwardRef((function(t,e){var n=t.components,o=t.mdxType,r=t.originalType,l=t.parentName,p=c(t,["components","mdxType","originalType","parentName"]),d=s(n),m=o,h=d["".concat(l,".").concat(m)]||d[m]||u[m]||r;return n?a.createElement(h,i(i({ref:e},p),{},{components:n})):a.createElement(h,i({ref:e},p))}));function m(t,e){var n=arguments,o=e&&e.mdxType;if("string"==typeof t||o){var r=n.length,i=new Array(r);i[0]=d;var c={};for(var l in e)hasOwnProperty.call(e,l)&&(c[l]=e[l]);c.originalType=t,c.mdxType="string"==typeof t?t:o,i[1]=c;for(var s=2;s<r;s++)i[s]=n[s];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},2344:function(t,e,n){n.r(e),n.d(e,{frontMatter:function(){return c},contentTitle:function(){return l},metadata:function(){return s},toc:function(){return p},default:function(){return d}});var a=n(7462),o=n(3366),r=(n(7294),n(3905)),i=["components"],c={title:"Deploy Your Contract",slug:"/getting-started/deploy-your-contract"},l=void 0,s={unversionedId:"getting-started/deploying",id:"getting-started/deploying",isDocsHomePage:!1,title:"Deploy Your Contract",description:"* Important notice*",source:"@site/docs/getting-started/deploying.md",sourceDirName:"getting-started",slug:"/getting-started/deploy-your-contract",permalink:"/ink-docs/getting-started/deploy-your-contract",editUrl:"https://github.com/ink-docs/edit/master/docs/getting-started/deploying.md",tags:[],version:"current",frontMatter:{title:"Deploy Your Contract",slug:"/getting-started/deploy-your-contract"},sidebar:"reference",previous:{title:"Run a Substrate Node",permalink:"/ink-docs/getting-started/running-substrate"},next:{title:"Call Your Contract",permalink:"/ink-docs/getting-started/calling-your-contract"}},p=[{value:"Putting Your Code on the Blockchain",id:"putting-your-code-on-the-blockchain",children:[]}],u={toc:p};function d(t){var e=t.components,c=(0,o.Z)(t,i);return(0,r.kt)("wrapper",(0,a.Z)({},u,c,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("h4",{id:"--important-notice"},"\u2757 ",(0,r.kt)("strong",{parentName:"h4"}," Important notice")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"\u26a0\ufe0f ",(0,r.kt)("strong",{parentName:"p"},"Canvas UI is undergoing technical difficulties and is not functional at the moment")," .\nWhile we are working on a fix, please use ",(0,r.kt)("a",{parentName:"p",href:"https://polkadot.js.org/apps/"},"https://polkadot.js.org/apps/")," to deploy and interact with your contracts. Same principles apply, the UI differs slightly.\nMake sure you are connected to the local node by selecting it from the top left menu and that you navigate to Developer/Contracts page!")),(0,r.kt)("p",null,"Now that we have generated the Wasm binary from our source code and started a Substrate Smart Contracts node, we want to deploy this contract onto our blockchain."),(0,r.kt)("p",null,"Smart contract deployment on Substrate is a little different than on traditional smart contract blockchains."),(0,r.kt)("p",null,"Whereas a completely new blob of smart contract source code is deployed each time you push a contract on other platforms, Substrate opts to optimize this behavior. For example, the standard ERC20 token has been deployed to Ethereum thousands of times, sometimes only with changes to the initial configuration (through the Solidity ",(0,r.kt)("inlineCode",{parentName:"p"},"constructor")," function). Each of these instances take up space on the blockchain equivalent to the contract source code size, even though no code was actually changed."),(0,r.kt)("p",null,"In Substrate, the contract deployment process is split into two halves:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Putting your code on the blockchain"),(0,r.kt)("li",{parentName:"ol"},"Creating an instance of your contract")),(0,r.kt)("p",null,"With this pattern, contract code like the ERC20 standard can be put on the blockchain a single time, but instantiated any number of times. No need to continually upload the same source code over and waste space on the blockchain."),(0,r.kt)("h2",{id:"putting-your-code-on-the-blockchain"},"Putting Your Code on the Blockchain"),(0,r.kt)("p",null,"Here we will upload the contract code and instantiate one copy of the contract on the blockchain:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Click the ",(0,r.kt)("strong",{parentName:"li"},"Upload & Instantiate Contract")," button."),(0,r.kt)("li",{parentName:"ul"},"Choose an ",(0,r.kt)("strong",{parentName:"li"},"Instantiation account")," (e.g. ALICE)."),(0,r.kt)("li",{parentName:"ul"},"Give the contract a descriptive ",(0,r.kt)("strong",{parentName:"li"},"Name")," (e.g. Flipper Contract)."),(0,r.kt)("li",{parentName:"ul"},"Drag the ",(0,r.kt)("inlineCode",{parentName:"li"},"flipper.contract")," file that contains the bundled Wasm blob and metadata into the drag\n& drop area. You will see the UI parse the metadata and showing what functions the contract contains."),(0,r.kt)("li",{parentName:"ul"},"Click the ",(0,r.kt)("strong",{parentName:"li"},"Constructor Details"))),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Contracts code page for deploying Flipper",src:n(8724).Z})),(0,r.kt)("p",null,"Smart contracts exist as an extension of the account system on the blockchain. Thus creating an\ninstance of this contract will create a new ",(0,r.kt)("inlineCode",{parentName:"p"},"AccountId")," which will store any balance managed by the\nsmart contract and allow us to interact with the contract."),(0,r.kt)("p",null,"Now a screen displays the information that represents our smart contract. We are going to\ninstantiate a copy of the smart contract:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Give the contract instance a ",(0,r.kt)("strong",{parentName:"li"},"Contract Name")," (e.g. The First Flipper)."),(0,r.kt)("li",{parentName:"ul"},"Accept the default options for the contract ",(0,r.kt)("strong",{parentName:"li"},"Instantiation Constructor"),"."),(0,r.kt)("li",{parentName:"ul"},"Accept the default options ",(0,r.kt)("strong",{parentName:"li"},"Endowment")," of ",(0,r.kt)("inlineCode",{parentName:"li"},"1000 Units")," to pay the storage rent, and ",(0,r.kt)("strong",{parentName:"li"},"Max Gas Allowed")," of ",(0,r.kt)("inlineCode",{parentName:"li"},"200000"),"."),(0,r.kt)("li",{parentName:"ul"},"Click on ",(0,r.kt)("inlineCode",{parentName:"li"},"Instantiate"))),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"An image of events from Flipper code upload",src:n(355).Z})),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Note:")," As mentioned earlier, contract creation involves creation of a new account. As such, you\nmust be sure to give the contract account at least the existential deposit defined by your\nblockchain. If we consume all of this deposit, the contract will be evicted. We can always refill the contract's balance and\nkeep it on chain.")),(0,r.kt)("p",null,"When you click ",(0,r.kt)("strong",{parentName:"p"},"Instantiate"),", and in the next confirmation screen ",(0,r.kt)("strong",{parentName:"p"},"Sign & Submit"),", you should see\nthe extrinsic ",(0,r.kt)("inlineCode",{parentName:"p"},"contracts.instantiateWithCode")," is called, and a flurry of events appear including the\ncreation of a new account (",(0,r.kt)("inlineCode",{parentName:"p"},"system.NewAccount"),") and the instantiation of the contract\n(",(0,r.kt)("inlineCode",{parentName:"p"},"contracts.Instantiated"),"):"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"An image of events from instantiation of Flipper",src:n(3303).Z})))}d.isMDXComponent=!0},8724:function(t,e,n){e.Z=n.p+"assets/images/flipper-code-page-5a4372c716551ab9d83ce53b5566eaa0.png"},3303:function(t,e,n){e.Z=n.p+"assets/images/flipper-instance-events-0fafd9708b94eddcefc87f757fe37311.png"},355:function(t,e,n){e.Z=n.p+"assets/images/flipper-upload-events-b65f62297c5315c3b09855f5cd814fbe.png"}}]);